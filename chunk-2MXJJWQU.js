import{a as G,b as f,c as A,d as L,e as U,f as w,h as V,j,k as $,n as k,p as O}from"./chunk-HMIWEYQW.js";import{F as b,Ga as l,Ha as I,Na as q,Qa as F,Z as a,_ as P,bb as M,ha as _,ja as C,na as c,ra as i,sa as r,ta as h,ub as D,ya as N,za as v}from"./chunk-YRIZCD5N.js";var x=(e,o)=>({"is-valid":e,"is-invalid":o}),z=(e,o)=>({"is-invalid":e,"is-valid":o}),B=(e,o)=>({"alert-success":e,"alert-danger":o});function H(e,o){if(e&1&&(i(0,"p",2),l(1),r()),e&2){let n=v();C("ngClass",F(2,B,n.alertColor,!n.alertColor)),a(),I(n.resText)}}function J(e,o){e&1&&(i(0,"p",18),l(1,"*Name Is Required"),r())}function K(e,o){e&1&&(i(0,"p",18),l(1,"*Min Length 3"),r())}function Q(e,o){e&1&&(i(0,"p",18),l(1,"*Max Length 10"),r())}function W(e,o){if(e&1&&(i(0,"div",8),_(1,J,2,0,"p",18)(2,K,2,0)(3,Q,2,0),r()),e&2){let n,s=v();a(),c(1,(n=s.registerForm.get("name"))!=null&&n.getError("required")?1:(n=s.registerForm.get("name"))!=null&&n.getError("minlength")?2:(n=s.registerForm.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function X(e,o){e&1&&(i(0,"p",18),l(1,"*Email Is Required"),r())}function Y(e,o){e&1&&(i(0,"p",18),l(1,"*Invalid Email"),r())}function Z(e,o){if(e&1&&(i(0,"div",8),_(1,X,2,0,"p",18)(2,Y,2,0),r()),e&2){let n,s=v();a(),c(1,(n=s.registerForm.get("email"))!=null&&n.getError("required")?1:(n=s.registerForm.get("email"))!=null&&n.getError("email")?2:-1)}}function ee(e,o){e&1&&(i(0,"p",18),l(1,"*Password Is Required"),r())}function te(e,o){e&1&&(i(0,"p",18),l(1,"*Invalid Password"),r())}function ne(e,o){if(e&1&&(i(0,"div",8),_(1,ee,2,0,"p",18)(2,te,2,0),r()),e&2){let n,s=v();a(),c(1,(n=s.registerForm.get("password"))!=null&&n.getError("required")?1:(n=s.registerForm.get("password"))!=null&&n.getError("pattern")?2:-1)}}function re(e,o){e&1&&(i(0,"div",8)(1,"p",18),l(2,"*Password Not Match"),r()())}function ie(e,o){e&1&&(i(0,"p",18),l(1,"*Phone Is Required"),r())}function le(e,o){e&1&&(i(0,"p",18),l(1,"*Invalid Phone"),r())}function oe(e,o){if(e&1&&(i(0,"div",8),_(1,ie,2,0,"p",18)(2,le,2,0),r()),e&2){let n,s=v();a(),c(1,(n=s.registerForm.get("phone"))!=null&&n.getError("required")?1:(n=s.registerForm.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function ae(e,o){e&1&&(i(0,"span"),h(1,"i",19),r())}var _e=(()=>{class e{constructor(n,s){this._AuthService=n,this._Router=s,this.loading=!1,this.registerForm=new U({name:new w(null,[f.required,f.minLength(3),f.maxLength(160)]),email:new w(null,[f.required,f.email]),password:new w(null,[f.required,f.pattern(/^\w{6,}$/)]),rePassword:new w(null),phone:new w(null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPassword)}registerUser(){this.loading=!0,this.registerForm.valid&&(console.log(this.registerForm.value),this.registerSub=this._AuthService.registerUser(this.registerForm.value).subscribe({next:n=>{this.resText=n.message,this.alertColor=!0,this.loading=!1,this.theInterval=setInterval(()=>{this._Router.navigate(["/login"])},2e3)},error:n=>{console.log(this.registerForm),console.log(n),this.resText=n.error.message,this.alertColor=!1,this.loading=!1},complete:()=>{}}))}confirmPassword(n){return n.get("password")?.value===n.get("rePassword")?.value?null:{missMatch:!0}}ngOnDestroy(){clearInterval(this.theInterval)}static{this.\u0275fac=function(s){return new(s||e)(P(O),P(D))}}static{this.\u0275cmp=b({type:e,selectors:[["app-register"]],standalone:!0,features:[q],decls:43,vars:29,consts:[[1,"bg-main-light","w-75","mx-auto","mt-5","p-4","rounded-2"],[1,"text-main","fw-bold"],[1,"alert","p-2","text-center","rounded-3","w-50","mx-auto","fw-semibold","mt-2",3,"ngClass"],[3,"ngSubmit","formGroup"],[1,"my-3"],["for","name"],[1,"text-danger"],["type","text","formControlName","name","id","name",1,"form-control",3,"ngClass"],[1,"alert","alert-warning","my-2","p-2","rounded-3"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password","id","password",1,"form-control",3,"ngClass"],["for","rePassword"],["type","rePassword","formControlName","rePassword","id","rePassword",1,"form-control",3,"ngClass"],["for","phone"],["type","tel","formControlName","phone","id","phone",1,"form-control",3,"ngClass"],["type","submit",1,"btn-main","w-50","d-block","mx-auto",3,"disabled"],[1,"text-danger","fw-bold","m-0"],[1,"fa-solid","fa-spinner","fa-spin"]],template:function(s,t){if(s&1&&(i(0,"section",0)(1,"h1",1),l(2,"Register Now:"),r(),_(3,H,2,5,"p",2),i(4,"form",3),N("ngSubmit",function(){return t.registerUser()}),i(5,"div",4)(6,"label",5)(7,"span",6),l(8,"*"),r(),l(9,"Name:"),r(),h(10,"input",7),_(11,W,4,1,"div",8),r(),i(12,"div",4)(13,"label",9)(14,"span",6),l(15,"*"),r(),l(16,"Email:"),r(),h(17,"input",10),_(18,Z,3,1,"div",8),r(),i(19,"div",4)(20,"label",11)(21,"span",6),l(22,"*"),r(),l(23,"Password:"),r(),h(24,"input",12),_(25,ne,3,1,"div",8),r(),i(26,"div",4)(27,"label",13)(28,"span",6),l(29,"*"),r(),l(30,"rePassword:"),r(),h(31,"input",14),_(32,re,3,0,"div",8),r(),i(33,"div",4)(34,"label",15)(35,"span",6),l(36,"*"),r(),l(37,"Phone:"),r(),h(38,"input",16),_(39,oe,3,1,"div",8),r(),i(40,"button",17),l(41,"Register "),_(42,ae,2,0,"span"),r()()()),s&2){let m,E,d,S,u,y,g,T,p,R;a(3),c(3,t.resText?3:-1),a(),C("formGroup",t.registerForm),a(6),C("ngClass",F(14,x,!((m=t.registerForm.get("name"))!=null&&m.errors)&&(((m=t.registerForm.get("name"))==null?null:m.touched)||((m=t.registerForm.get("name"))==null?null:m.dirty)),((m=t.registerForm.get("name"))==null?null:m.errors)&&(((m=t.registerForm.get("name"))==null?null:m.touched)||((m=t.registerForm.get("name"))==null?null:m.dirty)))),a(),c(11,(E=t.registerForm.get("name"))!=null&&E.errors&&((E=t.registerForm.get("name"))!=null&&E.touched)?11:-1),a(6),C("ngClass",F(17,z,((d=t.registerForm.get("email"))==null?null:d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)),!((d=t.registerForm.get("email"))!=null&&d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)))),a(),c(18,(S=t.registerForm.get("email"))!=null&&S.errors&&((S=t.registerForm.get("email"))!=null&&S.touched)?18:-1),a(6),C("ngClass",F(20,x,!((u=t.registerForm.get("password"))!=null&&u.errors)&&(((u=t.registerForm.get("password"))==null?null:u.touched)||((u=t.registerForm.get("password"))==null?null:u.dirty)),((u=t.registerForm.get("password"))==null?null:u.errors)&&(((u=t.registerForm.get("password"))==null?null:u.touched)||((u=t.registerForm.get("password"))==null?null:u.dirty)))),a(),c(25,(y=t.registerForm.get("password"))!=null&&y.errors&&((y=t.registerForm.get("password"))!=null&&y.touched)?25:-1),a(6),C("ngClass",F(23,x,!((g=t.registerForm.get("rePassword"))!=null&&g.errors)&&t.registerForm.getError("missMatch")==null&&(((g=t.registerForm.get("rePassword"))==null?null:g.touched)||((g=t.registerForm.get("rePassword"))==null?null:g.dirty)),((g=t.registerForm.get("rePassword"))==null?null:g.errors)&&t.registerForm.getError("missMatch")&&(((g=t.registerForm.get("rePassword"))==null?null:g.touched)||((g=t.registerForm.get("rePassword"))==null?null:g.dirty)))),a(),c(32,t.registerForm.getError("missMatch")&&((T=t.registerForm.get("rePassword"))!=null&&T.touched)?32:-1),a(6),C("ngClass",F(26,x,!((p=t.registerForm.get("phone"))!=null&&p.errors)&&(((p=t.registerForm.get("phone"))==null?null:p.touched)||((p=t.registerForm.get("phone"))==null?null:p.dirty)),((p=t.registerForm.get("phone"))==null?null:p.errors)&&(((p=t.registerForm.get("phone"))==null?null:p.touched)||((p=t.registerForm.get("phone"))==null?null:p.dirty)))),a(),c(39,(R=t.registerForm.get("phone"))!=null&&R.errors&&((R=t.registerForm.get("phone"))!=null&&R.touched)?39:-1),a(),C("disabled",t.registerForm.invalid),a(2),c(42,t.loading?42:-1)}},dependencies:[k,V,G,A,L,j,$,M]})}}return e})();export{_e as RegisterComponent};
